<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket de Venta</title>
    <style>
        /* Previous styles remain unchanged */
        .items th:nth-child(1), .items td:nth-child(1) { width: 15%; text-align: center; }
        .items th:nth-child(2), .items td:nth-child(2) { width: 40%; }
        .items th:nth-child(3), .items td:nth-child(3),
        .items th:nth-child(4), .items td:nth-child(4) { width: 22.5%; text-align: right; }
    </style>
</head>
<body>
    <div class="ticket">
        <table class="items">
            <thead>
                <tr>
                    <th>Cant</th>
                    <th>Descripción</th>
                    <th>Precio</th>
                    <th>Precio Total</th>
                </tr>
            </thead>
            <tbody id="items-container"></tbody>
        </table>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        
        const cantidades = (params.get('cantidades') || '').split(',');
        const servicios = (params.get('servicios') || '').split(',');
        const precios = (params.get('p_unit') || '').split(',');
        const itemsContainer = document.getElementById('items-container');

        for (let i = 0; i < cantidades.length; i++) {
            const cantidad = parseFloat(cantidades[i] || 0);
            const servicio = servicios[i]?.trim() || 'Sin descripción';
            const precio = parseFloat(precios[i] || 0);
            const precioTotal = (cantidad * precio).toFixed(2);

            if (cantidad > 0) {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${cantidad}</td>
                    <td>${servicio}</td>
                    <td>${precio.toFixed(2)}</td>
                    <td>${precioTotal}</td>
                `;
                itemsContainer.appendChild(tr);
            }
        }
    </script>
</body>
</html>
